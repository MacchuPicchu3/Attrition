#define indicators
data modify storage mp.attr:dynamic indicators set value ['[{"text":"[","color":"#222222"},{"text":"●","color":"#1AAF1C"},{"text":"] ","color":"#222222"}]','[{"text":"[","color":"#222222"},{"text":"●","color":"#1AAF1C"},{"text":"] ","color":"#222222"}]','[{"text":"[","color":"#222222"},{"text":"●","color":"#1AAF1C"},{"text":"] ","color":"#222222"}]','[{"text":"[","color":"#222222"},{"text":"●","color":"#1AAF1C"},{"text":"] ","color":"#222222"}]','[{"text":"[","color":"#222222"},{"text":"●","color":"#1AAF1C"},{"text":"] ","color":"#222222"}]','[{"text":"[","color":"#222222"},{"text":"●","color":"#1AAF1C"},{"text":"] ","color":"#222222"}]']
data modify storage mp.attr:static indicators set value '[{"text":"[","color":"#222222"},{"text":"●","color":"#D6D6D6"},{"text":"] ","color":"#222222"}]'
execute unless score $mp.attr.fakeplayer mp.attr.recoup matches 1 run data modify storage mp.attr:dynamic indicators[0] set value '[{"text":"[","color":"#222222"},{"text":"●","color":"#B00000"},{"text":"] ","color":"#222222"}]'
execute unless score $mp.attr.fakeplayer mp.attr.perma matches 1 run data modify storage mp.attr:dynamic indicators[1] set value '[{"text":"[","color":"#222222"},{"text":"●","color":"#B00000"},{"text":"] ","color":"#222222"}]'
execute unless score $mp.attr.fakeplayer mp.attr.blind matches 1 run data modify storage mp.attr:dynamic indicators[2] set value '[{"text":"[","color":"#222222"},{"text":"●","color":"#B00000"},{"text":"] ","color":"#222222"}]'
execute as @s[tag=mp.attr.fixed_off] run data modify storage mp.attr:dynamic indicators[3] set value '[{"text":"[","color":"#222222"},{"text":"●","color":"#B00000"},{"text":"] ","color":"#222222"}]'
execute as @s[tag=mp.attr.flavor_off] run data modify storage mp.attr:dynamic indicators[4] set value '[{"text":"[","color":"#222222"},{"text":"●","color":"#B00000"},{"text":"] ","color":"#222222"}]'
execute as @s[tag=mp.attr.sounds_off] run data modify storage mp.attr:dynamic indicators[5] set value '[{"text":"[","color":"#222222"},{"text":"●","color":"#B00000"},{"text":"] ","color":"#222222"}]'

#displays a menu for all available options and settings
tellraw @s [{"text":"--------------------------------------------","color":"#222222"}]
tellraw @s [{"text":"Attrition 2.7.2 ","color":"#5555FF","hoverEvent":{"action":"show_text","contents":[{"text":"Click here to visit the ","color":"#D6D6D6"},{"text":"Planet Minecraft ","color":"#48D4D4"},{"text":"page for Attrition!","color":"#D6D6D6"}]},"clickEvent":{"action":"open_url","value":"https://www.planetminecraft.com/data-pack/attrition/"}},{"text":"by ","color":"#D6D6D6"},{"text":"MacchuPicchu ","color":"#FA1433"},{"text":"– options menu","color":"#D6D6D6","hoverEvent":{"action":"show_text","contents":[{"text":"This menu has everything you need to customize your experience with Attrition!\n\nToggleable options are preceded by a ","color":"#D6D6D6"},{"text":"green ","color":"#1AAF1C"},{"text":"indicator when turned on and a ","color":"#D6D6D6"},{"text":"red ","color":"#B00000"},{"text":"indicator when turned off.","color":"#D6D6D6"}]}}]
tellraw @s [{"text":"--------------------------------------------","color":"#222222"}]
tellraw @s [{"storage":"mp.attr:dynamic","nbt":"indicators[0]","interpret":true,"hoverEvent":{"action":"show_text","contents":[{"text":"This option is ","color":"#D6D6D6"},{"text":"toggleable ","color":"#DA70D6"},{"text":"and can be turned on or off freely.\n\nThis option is ","color":"#D6D6D6"},{"text":"global ","color":"#5555FF"},{"text":"and affects every player that joins the world.","color":"#D6D6D6"}]}},{"text":"Toggle health recoup","color":"#4F4FEE","hoverEvent":{"action":"show_text","contents":[{"text":"Toggle health recoup","color":"#4F4FEE"},{"text":"\nControls whether enchanted golden apples can restore of maximum health when consumed.\n\nClick to choose this option!","color":"#D6D6D6"}]},"clickEvent":{"action":"run_command","value":"/execute as @s run function mp.attr:options/toggle_global {setting:\"mp.attr.recoup\", confirm_on:\"Consuming an enchanted golden apple can now restore a heart of maximum health!\", confirm_off:\"Consuming an enchanted golden apple will no longer restore a heart of maximum health.\"}"}}]
tellraw @s [{"storage":"mp.attr:dynamic","nbt":"indicators[1]","interpret":true,"hoverEvent":{"action":"show_text","contents":[{"text":"This option is ","color":"#D6D6D6"},{"text":"toggleable ","color":"#DA70D6"},{"text":"and can be turned on or off freely.\n\nThis option is ","color":"#D6D6D6"},{"text":"global ","color":"#5555FF"},{"text":"and affects every player that joins the world.","color":"#D6D6D6"}]}},{"text":"Toggle permadeath","color":"#4949DC","hoverEvent":{"action":"show_text","contents":[{"text":"Toggle permadeath","color":"#4949DC"},{"text":"\nControls whether the game ends for players who have lost all of their maximum health.\n\nClick to choose this option!","color":"#D6D6D6"}]},"clickEvent":{"action":"run_command","value":"/execute as @s run function mp.attr:options/toggle_global {setting:\"mp.attr.perma\", confirm_on:\"Permadeath has now been enabled. Exercise caution!\", confirm_off:\"Permadeath is no longer enabled. Breathe easy!\"}"}}]
tellraw @s [{"storage":"mp.attr:dynamic","nbt":"indicators[2]","interpret":true,"hoverEvent":{"action":"show_text","contents":[{"text":"This option is ","color":"#D6D6D6"},{"text":"toggleable ","color":"#DA70D6"},{"text":"and can be turned on or off freely.\n\nThis option is ","color":"#D6D6D6"},{"text":"global ","color":"#5555FF"},{"text":"and affects every player that joins the world.","color":"#D6D6D6"}]}},{"text":"Toggle divine wrath","color":"#4343C9","hoverEvent":{"action":"show_text","contents":[{"text":"Toggle divine wrath","color":"#4343C9"},{"text":"\nControls whether permanent blindness is inflicted upon players who have lost all of their maximum health. Designed as an alternative to player bans that doesn't require messing with server configs and is LAN multiplayer-friendly.\n\nClick to choose this option!","color":"#D6D6D6"}]},"clickEvent":{"action":"run_command","value":"/execute as @s run function mp.attr:options/toggle_global {setting:\"mp.attr.blind\", confirm_on:\"Divine wrath has now been enabled. Beware, lest the gods seize your spirit's sight!\", confirm_off:\"Divine wrath is no longer enabled. The gods will show mercy to your spirit.\"}"}}]
tellraw @s [{"text":""}]
tellraw @s [{"storage":"mp.attr:dynamic","nbt":"indicators[3]","interpret":true,"hoverEvent":{"action":"show_text","contents":[{"text":"This option is ","color":"#D6D6D6"},{"text":"toggleable ","color":"#DA70D6"},{"text":"and can be turned on or off freely.\n\nThis option is ","color":"#D6D6D6"},{"text":"individual ","color":"#E3BC9A"},{"text":"and is accessible to all players using ","color":"#D6D6D6"},{"text":"/trigger mp.attr.fixdtext","color":"#555555"},{"text":".","color":"#D6D6D6"}]}},{"text":"Toggle fixed text","color":"#3C3CB3","hoverEvent":{"action":"show_text","contents":[{"text":"Toggle fixed text","color":"#3C3CB3"},{"text":"\nDisplays a standardized chat message to all players whenever a player gains or loses max health.\n\nClick to choose this option!","color":"#D6D6D6"}]},"clickEvent":{"action":"run_command","value":"/execute as @s run function mp.attr:options/toggle_individual {tag:\"mp.attr.fixed_off\", setting:\"mp.attr.fixdtext\", confirm_on:\"Fixed text has been toggled ON!\", confirm_off:\"Fixed text has been toggled OFF!\"}"}}]
tellraw @s [{"storage":"mp.attr:dynamic","nbt":"indicators[4]","interpret":true,"hoverEvent":{"action":"show_text","contents":[{"text":"This option is ","color":"#D6D6D6"},{"text":"toggleable ","color":"#DA70D6"},{"text":"and can be turned on or off freely.\n\nThis option is ","color":"#D6D6D6"},{"text":"individual ","color":"#E3BC9A"},{"text":"and is accessible to all players using ","color":"#D6D6D6"},{"text":"/trigger mp.attr.flavtext","color":"#555555"},{"text":".","color":"#D6D6D6"}]}},{"text":"Toggle flavor text","color":"#35359E","hoverEvent":{"action":"show_text","contents":[{"text":"Toggle flavor text","color":"#35359E"},{"text":"\nDisplays a randomly selected lore message to a player whenever they gain or lose maximum health.\n\nClick to choose this option!","color":"#D6D6D6"}]},"clickEvent":{"action":"run_command","value":"/execute as @s run function mp.attr:options/toggle_individual {tag:\"mp.attr.flavor_off\", setting:\"mp.attr.flavtext\", confirm_on:\"Flavor text has been toggled ON!\", confirm_off:\"Flavor text has been toggled OFF!\"}"}}]
tellraw @s [{"storage":"mp.attr:dynamic","nbt":"indicators[5]","interpret":true,"hoverEvent":{"action":"show_text","contents":[{"text":"This option is ","color":"#D6D6D6"},{"text":"toggleable ","color":"#DA70D6"},{"text":"and can be turned on or off freely.\n\nThis option is ","color":"#D6D6D6"},{"text":"individual ","color":"#E3BC9A"},{"text":"and is accessible to all players using ","color":"#D6D6D6"},{"text":"/trigger mp.attr.sounds","color":"#555555"},{"text":".","color":"#D6D6D6"}]}},{"text":"Toggle event sounds","color":"#2E2E89","hoverEvent":{"action":"show_text","contents":[{"text":"Toggle event sounds","color":"#2E2E89"},{"text":"\nPlays a brief sound effect to a player whenever they gain or lose maximum health.\n\nClick to choose this option!","color":"#D6D6D6"}]},"clickEvent":{"action":"run_command","value":"/execute as @s run function mp.attr:options/toggle_individual {tag:\"mp.attr.sounds_off\", setting:\"mp.attr.sounds\", confirm_on:\"Event sounds have been toggled ON!\", confirm_off:\"Event sounds have been toggled OFF!\"}"}}]
tellraw @s [{"text":""}]
tellraw @s [{"storage":"mp.attr:static","nbt":"indicators","interpret":true,"hoverEvent":{"action":"show_text","contents":[{"text":"This option is ","color":"#D6D6D6"},{"text":"repeatable ","color":"#FF10F0"},{"text":"and can be requested infinitely.\n\nThis option is ","color":"#D6D6D6"},{"text":"individual ","color":"#E3BC9A"},{"text":"and can be run on other players' behalf by replacing the ","color":"#D6D6D6"},{"text":"@s ","color":"#555555"},{"text":"with their name.","color":"#D6D6D6"}]}},{"text":"Test Attrition","color":"#989898","hoverEvent":{"action":"show_text","contents":[{"text":"Test Attrition","color":"#989898"},{"text":"\nGives the player some enchanted golden apples.\n\nClick to choose this option!","color":"#D6D6D6"}]},"clickEvent":{"action":"run_command","value":"/give @s minecraft:enchanted_golden_apple 32"}}]
tellraw @s [{"storage":"mp.attr:static","nbt":"indicators","interpret":true,"hoverEvent":{"action":"show_text","contents":[{"text":"This option is ","color":"#D6D6D6"},{"text":"repeatable ","color":"#FF10F0"},{"text":"and can be requested infinitely.\n\nThis option is ","color":"#D6D6D6"},{"text":"individual ","color":"#E3BC9A"},{"text":"but is not accessible to all players.","color":"#D6D6D6"}]}},{"text":"Access advanced settings","color":"#777777","hoverEvent":{"action":"show_text","contents":[{"text":"Access advanced settings","color":"#777777"},{"text":"\nAllows for full customization of Attrition, including player resets, adjustable health ceiling and health floor, and much more.\n\nClick to choose this option!","color":"#D6D6D6"}]},"clickEvent":{"action":"run_command","value":"/execute as @s run function mp.attr:options/dev_settings"}}]
tellraw @s [{"storage":"mp.attr:static","nbt":"indicators","interpret":true,"hoverEvent":{"action":"show_text","contents":[{"text":"This option is ","color":"#D6D6D6"},{"text":"permanent","color":"#B00000"},{"text":"; once selected, its effects cannot be reversed. ","color":"#D6D6D6"},{"text":"Don't choose this option unless you're sure you want to!","color":"#D6D6D6","italic":true},{"text":"\n\nThis option is ","color":"#D6D6D6"},{"text":"global ","color":"#5555FF"},{"text":"and affects every player that joins the world.","color":"#D6D6D6"}]}},{"text":"Uninstall Attrition","color":"#555555","hoverEvent":{"action":"show_text","contents":[{"text":"Uninstall Attrition","color":"#555555"},{"text":"\nDeletes all of Attrition's scoreboards and tags and resets all players' base health, then disables the data pack.\n\nClick to choose this option!","color":"#D6D6D6"}]},"clickEvent":{"action":"suggest_command","value":"/function mp.attr:options/uninstall"}}]
tellraw @s [{"text":"--------------------------------------------","color":"#222222"}]